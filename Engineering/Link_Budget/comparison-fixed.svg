<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <!-- Background -->
  <rect width="1000" height="600" fill="#f8f9fa" />
  
  <!-- Title and Section Labels -->
  <text x="500" y="30" font-family="Arial" font-size="22" text-anchor="middle" font-weight="bold">Doppler Effect Comparison: Long vs. Short Integration</text>
  
  <text x="250" y="70" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#0d47a1">Long Integration (1.34s)</text>
  <text x="750" y="70" font-family="Arial" font-size="18" text-anchor="middle" font-weight="bold" fill="#1b5e20">Short Integration (0.03s)</text>
  
  <!-- Dividing Line -->
  <line x1="500" y1="80" x2="500" y2="560" stroke="#bdbdbd" stroke-width="2" stroke-dasharray="5,5" />
  
  <!-- LEFT SIDE: Long Integration Time -->
  <!-- Initial CNR -->
  <rect x="50" y="100" width="120" height="60" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" />
  <text x="110" y="125" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Initial CNR</text>
  <text x="110" y="145" font-family="Arial" font-size="14" text-anchor="middle">-8.65 dB (1 Hz)</text>
  
  <!-- Bandwidth Expansion -->
  <rect x="230" y="100" width="160" height="60" rx="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" />
  <text x="310" y="125" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Bandwidth Expansion</text>
  <text x="310" y="145" font-family="Arial" font-size="14" text-anchor="middle">-67.0 dB</text>
  
  <!-- Key Parameter - WIDER BOX -->
  <rect x="100" y="180" width="300" height="40" rx="5" fill="#e3dbf5" stroke="#673ab7" stroke-width="2" />
  <text x="250" y="205" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Integration: 6.7M chips (1.34s)</text>
  
  <!-- Processing Gain -->
  <rect x="150" y="240" width="200" height="160" rx="5" fill="#fff3e0" stroke="#ff9800" stroke-width="2" />
  <text x="250" y="265" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Processing Gain</text>
  
  <!-- Inside Processing Gain box -->
  <rect x="175" y="280" width="150" height="30" rx="3" fill="#ffe0b2" stroke="#ff9800" stroke-width="1" />
  <text x="250" y="300" font-family="Arial" font-size="12" text-anchor="middle">Basic Gain: 68.26 dB</text>
  
  <!-- Doppler Spread Penalty box -->
  <rect x="175" y="330" width="150" height="30" rx="3" fill="#ffcdd2" stroke="#f44336" stroke-width="1" />
  <text x="250" y="350" font-family="Arial" font-size="12" text-anchor="middle">Doppler: -16.20 dB</text>
  
  <!-- Net Processing Gain result -->
  <rect x="175" y="380" width="150" height="30" rx="3" fill="#dcedc8" stroke="#8bc34a" stroke-width="1" />
  <text x="250" y="400" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Net: 52.06 dB</text>
  
  <!-- Coherence factor -->
  <rect x="100" y="330" width="65" height="30" rx="3" fill="#f3e5f5" stroke="#9c27b0" stroke-width="1" />
  <text x="132" y="345" font-family="Arial" font-size="10" text-anchor="middle">Coherence</text>
  <text x="132" y="357" font-family="Arial" font-size="10" text-anchor="middle">factor: 41.66</text>
  
  <!-- Non-coherent integration -->
  <rect x="100" y="480" width="300" height="60" rx="5" fill="#e1f5fe" stroke="#03a9f4" stroke-width="2" />
  <text x="250" y="505" font-family="Arial" font-size="14" text-anchor="middle">Additional Non-coherent Integration</text>
  <text x="250" y="525" font-family="Arial" font-size="14" text-anchor="middle">33.58 dB (5,208,064 sequences)</text>
  
  <!-- Arrows -->
  <line x1="170" y1="130" x2="230" y2="130" stroke="#2196f3" stroke-width="2" />
  <polygon points="225,125 235,130 225,135" fill="#2196f3" />
  
  <!-- Bandwidth Expansion to Integration box - FIXED ARROW -->
  <line x1="310" y1="160" x2="310" y2="180" stroke="#4caf50" stroke-width="2" />
  <polygon points="305,175 310,185 315,175" fill="#4caf50" />
  
  <line x1="250" y1="220" x2="250" y2="240" stroke="#3f51b5" stroke-width="2" />
  <polygon points="245,235 250,245 255,235" fill="#3f51b5" />
  
  <!-- Inside Processing Gain: Basic to Doppler Penalty -->
  <line x1="250" y1="310" x2="250" y2="330" stroke="#f44336" stroke-width="2" />
  <polygon points="245,325 250,335 255,325" fill="#f44336" />
  
  <!-- Inside Processing Gain: Doppler Penalty to Net Gain -->
  <line x1="250" y1="360" x2="250" y2="380" stroke="#8bc34a" stroke-width="2" />
  <polygon points="245,375 250,385 255,375" fill="#8bc34a" />
  
  <!-- To non-coherent integration -->
  <line x1="250" y1="410" x2="250" y2="480" stroke="#03a9f4" stroke-width="2" />
  <polygon points="245,475 250,485 255,475" fill="#03a9f4" />
  
  <!-- RIGHT SIDE: Short Integration Time -->
  <!-- Initial CNR -->
  <rect x="550" y="100" width="120" height="60" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" />
  <text x="610" y="125" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Initial CNR</text>
  <text x="610" y="145" font-family="Arial" font-size="14" text-anchor="middle">-8.65 dB (1 Hz)</text>
  
  <!-- Bandwidth Expansion -->
  <rect x="730" y="100" width="160" height="60" rx="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" />
  <text x="810" y="125" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Bandwidth Expansion</text>
  <text x="810" y="145" font-family="Arial" font-size="14" text-anchor="middle">-67.0 dB</text>
  
  <!-- Key Parameter - WIDER BOX -->
  <rect x="600" y="180" width="300" height="40" rx="5" fill="#e3dbf5" stroke="#673ab7" stroke-width="2" />
  <text x="750" y="205" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Integration: 156K chips (0.03s)</text>
  
  <!-- Processing Gain -->
  <rect x="650" y="240" width="200" height="160" rx="5" fill="#fff3e0" stroke="#ff9800" stroke-width="2" />
  <text x="750" y="265" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Processing Gain</text>
  
  <!-- Inside Processing Gain box -->
  <rect x="675" y="280" width="150" height="30" rx="3" fill="#ffe0b2" stroke="#ff9800" stroke-width="1" />
  <text x="750" y="300" font-family="Arial" font-size="12" text-anchor="middle">Basic Gain: 51.94 dB</text>
  
  <!-- Doppler Spread Penalty box (no penalty) -->
  <rect x="675" y="330" width="150" height="30" rx="3" fill="#e0f7fa" stroke="#00bcd4" stroke-width="1" />
  <text x="750" y="350" font-family="Arial" font-size="12" text-anchor="middle">Doppler: 0.00 dB</text>
  
  <!-- Net Processing Gain result -->
  <rect x="675" y="380" width="150" height="30" rx="3" fill="#dcedc8" stroke="#8bc34a" stroke-width="1" />
  <text x="750" y="400" font-family="Arial" font-size="12" text-anchor="middle" font-weight="bold">Net: 51.94 dB</text>
  
  <!-- Coherence factor -->
  <rect x="600" y="330" width="65" height="30" rx="3" fill="#f3e5f5" stroke="#9c27b0" stroke-width="1" />
  <text x="632" y="345" font-family="Arial" font-size="10" text-anchor="middle">Coherence</text>
  <text x="632" y="357" font-family="Arial" font-size="10" text-anchor="middle">factor: &lt; 1</text>
  
  <!-- Non-coherent integration -->
  <rect x="600" y="480" width="300" height="60" rx="5" fill="#e1f5fe" stroke="#03a9f4" stroke-width="2" />
  <text x="750" y="505" font-family="Arial" font-size="14" text-anchor="middle">Additional Non-coherent Integration</text>
  <text x="750" y="525" font-family="Arial" font-size="14" text-anchor="middle">33.70 dB (5,504,893 sequences)</text>
  
  <!-- RIGHT SIDE ARROWS -->
  <line x1="670" y1="130" x2="730" y2="130" stroke="#2196f3" stroke-width="2" />
  <polygon points="725,125 735,130 725,135" fill="#2196f3" />
  
  <!-- Bandwidth Expansion to Integration box - FIXED ARROW -->
  <line x1="810" y1="160" x2="810" y2="180" stroke="#4caf50" stroke-width="2" />
  <polygon points="805,175 810,185 815,175" fill="#4caf50" />
  
  <line x1="750" y1="220" x2="750" y2="240" stroke="#3f51b5" stroke-width="2" />
  <polygon points="745,235 750,245 755,235" fill="#3f51b5" />
  
  <!-- Inside Processing Gain: Basic to Doppler Penalty (dashed since no penalty) -->
  <line x1="750" y1="310" x2="750" y2="330" stroke="#00bcd4" stroke-width="1" stroke-dasharray="4" />
  <polygon points="745,325 750,335 755,325" fill="#00bcd4" />
  
  <!-- Inside Processing Gain: Doppler Penalty to Net Gain -->
  <line x1="750" y1="360" x2="750" y2="380" stroke="#8bc34a" stroke-width="2" />
  <polygon points="745,375 750,385 755,375" fill="#8bc34a" />
  
  <!-- To non-coherent integration -->
  <line x1="750" y1="410" x2="750" y2="480" stroke="#03a9f4" stroke-width="2" />
  <polygon points="745,475 750,485 755,475" fill="#03a9f4" />
  
  <!-- Comparison Notes -->
  <rect x="400" y="560" width="200" height="30" rx="5" fill="#fce4ec" stroke="#e91e63" stroke-width="1" />
  <text x="500" y="580" font-family="Arial" font-size="14" text-anchor="middle" font-style="italic">Difference in Net Gain: 0.12 dB</text>
</svg>